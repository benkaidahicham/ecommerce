{"version":3,"file":"unop-react-dropdown.esm.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/Dropdown.tsx","../src/types.ts","../src/functions.module.ts","../src/index.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\r\nimport { DropDownProps } from './types';\r\nimport './Dropdown.css';\r\n\r\nconst DropDown: React.FC<DropDownProps> = ({\r\n  children,\r\n  trigger,\r\n  handleClick,\r\n  handleMouseLeave,\r\n  handleMouseOver,\r\n  dropdownMenuRef,\r\n  show,\r\n  style,\r\n  dropdownRef,\r\n  makeDisappear,\r\n  displayMenuItem,\r\n  dropdownWrapperClassName,\r\n  dropdownMenuClassName,\r\n}) => (\r\n  <div\r\n    className={`UnopdropDown_EMFQP${\r\n      dropdownWrapperClassName ? ` ${dropdownWrapperClassName}` : ''\r\n    }`}\r\n    onMouseLeave={handleMouseLeave}\r\n    onMouseOver={handleMouseOver}\r\n    onFocus={() => {}}\r\n    role=\"button\"\r\n    tabIndex={0}\r\n    ref={dropdownRef}\r\n  >\r\n    {React.cloneElement(trigger, {\r\n      onClick: handleClick,\r\n      show: displayMenuItem,\r\n      hide: makeDisappear,\r\n      open: show,\r\n    })}\r\n\r\n    <div\r\n      className={`drop-down-menu_EMFQP${\r\n        show ? ' reveal-drop-down-menu_EMFQP' : ''\r\n      }${dropdownMenuClassName ? ` ${dropdownMenuClassName}` : ''}`}\r\n      style={style}\r\n      ref={dropdownMenuRef}\r\n    >\r\n      {typeof children === 'function'\r\n        ? (children as Function)({\r\n            show: displayMenuItem,\r\n            hide: makeDisappear,\r\n            open: show,\r\n          })\r\n        : children}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default DropDown;\r\n","import React from 'react';\r\n\r\nexport interface CommonProps {\r\n  trigger: JSX.Element;\r\n  dropdownWrapperClassName?: string;\r\n  dropdownMenuClassName?: string;\r\n  children:\r\n    | React.ReactNode\r\n    | ((value: {\r\n        show: (e?: any) => void;\r\n        hide: (e?: any) => void;\r\n        open: boolean;\r\n      }) => React.ReactNode);\r\n}\r\n\r\nexport type CustomMouseEvent =\r\n  | MouseEvent\r\n  | React.MouseEvent<HTMLDivElement, MouseEvent>;\r\n\r\nexport interface DropDownProps extends CommonProps {\r\n  handleClick: (e: CustomMouseEvent) => void;\r\n  handleMouseOver: (e: CustomMouseEvent) => void;\r\n  handleMouseLeave: (e: CustomMouseEvent) => void;\r\n  show: boolean;\r\n  style: React.CSSProperties;\r\n  dropdownMenuRef: React.RefObject<HTMLDivElement>;\r\n  dropdownRef: React.RefObject<HTMLDivElement>;\r\n  makeDisappear: (e?: CustomMouseEvent) => void;\r\n  displayMenuItem: (e?: CustomMouseEvent) => void;\r\n}\r\n\r\nexport enum DropDowndirections {\r\n  RIGHT = 'RIGHT',\r\n  LEFT = 'LEFT',\r\n  CENTER = 'CENTER',\r\n}\r\n\r\nexport interface UnopDropdownProps extends CommonProps {\r\n  align?: DropDowndirections;\r\n  onDisappearStart?: (e?: any) => void;\r\n  onAppear?: (e?: any) => void;\r\n  onDisappear?: (e?: any) => void;\r\n  delay?: number;\r\n  hover?: boolean;\r\n  closeOnClickOut?: boolean;\r\n  closeOnDropdownClicked?: boolean;\r\n}\r\n\r\nexport interface TriggerProps {\r\n  onClick: (e: CustomMouseEvent) => void;\r\n  show: (e?: CustomMouseEvent | undefined) => void;\r\n  hide: (e?: CustomMouseEvent | undefined) => void;\r\n  open: boolean;\r\n}\r\n","import { DropDowndirections } from './types';\r\n\r\nexport module Utility {\r\n  export const getStyleObject = (\r\n    align: DropDowndirections,\r\n    width: number\r\n  ): React.CSSProperties => {\r\n    const style: React.CSSProperties = {};\r\n    if (align === DropDowndirections.RIGHT) {\r\n      style.right = 0;\r\n    } else if (align === DropDowndirections.CENTER) {\r\n      style.left = `50%`;\r\n      style.marginLeft = `-${width / 2}px`;\r\n    } else {\r\n      style.left = 0;\r\n    }\r\n    return style;\r\n  };\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react';\nimport DropDown from './Dropdown';\nimport {\n  UnopDropdownProps,\n  DropDowndirections,\n  CustomMouseEvent,\n  TriggerProps,\n} from './types';\nimport { Utility } from './functions.module';\n\nconst UnopDropdown: React.FC<UnopDropdownProps> = ({\n  trigger,\n  children,\n  align = DropDowndirections.RIGHT,\n  onAppear,\n  onDisappear,\n  onDisappearStart,\n  delay,\n  hover,\n  closeOnClickOut = false,\n  closeOnDropdownClicked = false,\n  dropdownWrapperClassName,\n  dropdownMenuClassName,\n}) => {\n  const [show, setShow] = useState(false);\n\n  const timer = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const dropdownWidth = useRef(0);\n\n  const dropdownMenuRef = useRef<HTMLDivElement>(null);\n\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const element = dropdownMenuRef.current!;\n    element.style.visibility = 'hidden';\n    element.style.display = 'block';\n    dropdownWidth.current = element.offsetWidth;\n    element.style.display = 'none';\n    element.style.visibility = 'visible';\n  }, []);\n\n  const handler = (e: MouseEvent) => {\n    const path = e.composedPath();\n    if (show && closeOnClickOut && !path.includes(dropdownMenuRef.current!)) {\n      handleAction(e);\n    } else {\n      if (\n        show &&\n        closeOnDropdownClicked &&\n        path.includes(dropdownMenuRef.current!)\n      ) {\n        handleAction(e);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (closeOnClickOut || closeOnDropdownClicked) {\n      window.addEventListener('click', handler);\n    }\n    return () => {\n      window.removeEventListener('click', handler);\n    };\n  }, [show]);\n\n  const displayMenuItem = (e?: CustomMouseEvent) => {\n    if (timer) clearTimeout(timer.current!);\n    timer.current = null;\n    setShow(true);\n    if (onAppear) onAppear(e);\n  };\n\n  const makeDisappear = (e?: CustomMouseEvent) => {\n    const timerFunc = () =>\n      setTimeout(() => {\n        setShow(false);\n        if (onDisappear) onDisappear(e);\n      }, delay || 0);\n    timer.current = timerFunc();\n    if (onDisappearStart) onDisappearStart(e);\n  };\n\n  const handleAction = (e: CustomMouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (show) {\n      makeDisappear(e);\n    } else {\n      displayMenuItem(e);\n    }\n  };\n\n  const handleMouseOver = (e: CustomMouseEvent) => {\n    if (hover && !show) {\n      handleAction(e);\n    }\n  };\n\n  const handleMouseLeave = (e: CustomMouseEvent) => {\n    if (hover && show) {\n      handleAction(e);\n    }\n  };\n\n  return (\n    <DropDown\n      handleMouseOver={handleMouseOver}\n      handleMouseLeave={handleMouseLeave}\n      handleClick={handleAction}\n      show={show}\n      trigger={trigger}\n      style={Utility.getStyleObject(align, dropdownWidth.current)}\n      dropdownMenuRef={dropdownMenuRef}\n      dropdownRef={dropdownRef}\n      makeDisappear={makeDisappear}\n      displayMenuItem={displayMenuItem}\n      dropdownWrapperClassName={dropdownWrapperClassName}\n      dropdownMenuClassName={dropdownMenuClassName}\n    >\n      {children}\n    </DropDown>\n  );\n};\n\nexport { UnopDropdownProps, DropDowndirections, TriggerProps };\n\nexport default UnopDropdown;\n"],"names":["DropDown","children","trigger","handleClick","handleMouseLeave","handleMouseOver","dropdownMenuRef","show","style","dropdownRef","makeDisappear","displayMenuItem","dropdownWrapperClassName","dropdownMenuClassName","React","className","onMouseLeave","onMouseOver","onFocus","role","tabIndex","ref","cloneElement","onClick","hide","open","DropDowndirections","Utility","align","width","RIGHT","right","CENTER","left","marginLeft","UnopDropdown","onAppear","onDisappear","onDisappearStart","delay","hover","closeOnClickOut","closeOnDropdownClicked","useState","setShow","timer","useRef","dropdownWidth","useEffect","element","current","visibility","display","offsetWidth","handler","e","path","composedPath","includes","handleAction","window","addEventListener","removeEventListener","clearTimeout","timerFunc","setTimeout","preventDefault","stopPropagation","getStyleObject"],"mappings":"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"}